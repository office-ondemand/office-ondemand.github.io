<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>OFFICE ON DEMAND</title>
	<meta name="author" content="Paloma Moniz">
	<meta name="description" content="">
	<meta name="keywords" content="">
	<meta name="robots" content="all" />
	<meta http-equiv="Cache-control" content="public">

	<meta property="og:url" content="https://www.officeondemand.co.uk">
	<meta property="og:title" content="OFFICE ON DEMAND">
	<meta property="og:site_name" content="OFFICE ON DEMAND">
	<meta property="og:description" content="">
	<meta property="og:image" content="https://www.officeondemand.co.uk">
	<meta property="og:image:type" content="image/jpg">
	<meta property="og:image:width" content="600">
	<meta property="og:image:height" content="317">
	<meta property="og:type" content="website">

	<!-- <link rel="apple-touch-icon" sizes="180x180" href="">
<link rel="icon" type="image/png" sizes="32x32" href="">
<link rel="icon" type="image/png" sizes="16x16" href="">
<link rel="manifest" href="assets/share/favicon/site.webmanifest">
<link rel="mask-icon" href="assets/share/favicon/safari-pinned-tab.svg" color="#ff4e00">
<link rel="shortcut icon" href="assets/share/favicon/favicon.ico">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-config" content="assets/share/favicon/browserconfig.xml"> -->
	<meta name="theme-color" content="#e6e7e8">

	<link rel="stylesheet" href="style.css">

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

</head>

<body>

	<main class="Loop js-loop">
		<section class="">
			<h1>One</h1>
		</section>
		<section class="">
			<h1>For</h1>
		</section>
		<section class="">
			<h1>All</h1>
		</section>
		<section class="">
			<h1>And</h1>
		</section>
		<section class="">
			<h1>All</h1>
		</section>
		<section class="">
			<h1>For</h1>
		</section>

		<!--
  These blocks are the same as the first blocks to get that looping illusion going.
  You need to add clones to fill out a full viewport height.
  -->
		<section class=" is-clone">
			<h1>One</h1>
		</section>
		<section class=" is-clone">
			<h1>For</h1>
		</section>
	</main>


	<script type="text/javascript">
		var doc = window.document,
			context = doc.querySelector('.js-loop'),
			clones = context.querySelectorAll('.is-clone'),
			disableScroll = false,
			scrollHeight = 0,
			scrollPos = 0,
			clonesHeight = 0,
			i = 0;

		function getScrollPos() {
			return (context.pageYOffset || context.scrollTop) - (context.clientTop || 0);
		}

		function setScrollPos(pos) {
			context.scrollTop = pos;
		}

		function getClonesHeight() {
			clonesHeight = 0;

			for (i = 0; i < clones.length; i += 1) {
				clonesHeight = clonesHeight + clones[i].offsetHeight;
			}

			return clonesHeight;
		}

		function reCalc() {
			scrollPos = getScrollPos();
			scrollHeight = context.scrollHeight;
			clonesHeight = getClonesHeight();

			if (scrollPos <= 0) {
				setScrollPos(1); // Scroll 1 pixel to allow upwards scrolling
			}
		}

		function scrollUpdate() {
			if (!disableScroll) {
				scrollPos = getScrollPos();

				if (clonesHeight + scrollPos >= scrollHeight) {
					// Scroll to the top when youâ€™ve reached the bottom
					setScrollPos(1); // Scroll down 1 pixel to allow upwards scrolling
					disableScroll = true;
				} else if (scrollPos <= 0) {
					// Scroll to the bottom when you reach the top
					setScrollPos(scrollHeight - clonesHeight);
					disableScroll = true;
				}
			}

			if (disableScroll) {
				// Disable scroll-jumping for a short time to avoid flickering
				window.setTimeout(function() {
					disableScroll = false;
				}, 40);
			}
		}

		function init() {
			reCalc();

			context.addEventListener('scroll', function() {
				window.requestAnimationFrame(scrollUpdate);
			}, false);

			window.addEventListener('resize', function() {
				window.requestAnimationFrame(reCalc);
			}, false);
		}

		if (document.readyState !== 'loading') {
			init()
		} else {
			doc.addEventListener('DOMContentLoaded', init, false)
		}



		// Just for this demo: Center the middle block on page load
		// window.onload = function() {
		// setScrollPos(Math.round(clones[0].getBoundingClientRect().top + getScrollPos() - (context.offsetHeight - clones[0].offsetHeight) / 2));
		// };
	</script>
</body>

</html>